repos:
  - repo: https://github.com/psf/black
    rev: 23.3.0  # must match test-requirements.txt
    hooks:
      - id: black
  - repo: https://github.com/pycqa/isort
    rev: 5.11.5  # must match test-requirements.txt
    hooks:
      - id: isort
  - repo: https://github.com/pycqa/flake8
    rev: 5.0.4  # must match test-requirements.txt
    hooks:
      - id: flake8
        additional_dependencies:
          - flake8-bugbear==22.12.6  # must match test-requirements.txt
          - flake8-noqa==1.3.0       # must match test-requirements.txt
  - repo: local
    hooks:
      - id: mypy-self-check-mypy
        name: mypy self-check mypy(c)
        language: system
        entry: python -m mypy --config-file mypy_self_check.ini -p mypy -p mypyc
        pass_filenames: false
        files: ^(mypy|mypyc)/.+\.py$
      - id: mypy-self-check-misc
        name: mypy self-check misc
        language: system
        entry: python -m mypy --config-file mypy_self_check.ini misc --exclude misc/fix_annotate.py --exclude misc/async_matrix.py --exclude misc/sync-typeshed.py
        pass_filenames: false
        files: ^(misc)/.+\.py$
